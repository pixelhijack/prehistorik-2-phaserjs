{"version":3,"sources":["webpack:///webpack/bootstrap 58d4392147fb4537b737","webpack:///./client/src/index.js","webpack:///./client/src/globalconfig.js","webpack:///./client/src/gamestates/menu/menu.js","webpack:///./client/src/components/gamestate/gamestate.js","webpack:///./client/src/gamestates/menu/create.js","webpack:///./client/src/gamestates/menu/update.js","webpack:///./client/src/gamestates/play/play.js","webpack:///./client/src/gamestates/play/init.js","webpack:///./client/src/gamestates/play/creatureconfig.js","webpack:///./client/src/gamestates/play/preload.js","webpack:///./client/src/gamestates/play/create.js","webpack:///./client/src/gamestates/play/levelloader.js","webpack:///./client/src/gamestates/play/reactions.js","webpack:///./client/src/gamestates/play/creaturefactory.js","webpack:///./client/src/components/sprite/creatures/bat.js","webpack:///./client/src/components/sprite/ai.js","webpack:///./client/src/components/sprite/extendedsprite.js","webpack:///./client/src/components/sprite/behaviours/state.js","webpack:///./client/src/components/sprite/behaviours/debug.js","webpack:///./client/src/components/sprite/behaviours/decide.js","webpack:///./client/src/components/sprite/behaviours/move.js","webpack:///./client/src/components/sprite/behaviours/turn.js","webpack:///./client/src/components/sprite/behaviours/hurt.js","webpack:///./client/src/components/sprite/behaviours/boundto.js","webpack:///./client/src/components/sprite/creatures/bear.js","webpack:///./client/src/components/sprite/creatures/bug.js","webpack:///./client/src/components/sprite/creatures/dino.js","webpack:///./client/src/components/sprite/creatures/dragonfly.js","webpack:///./client/src/components/sprite/creatures/frog.js","webpack:///./client/src/components/sprite/creatures/gorilla.js","webpack:///./client/src/components/sprite/creatures/insect.js","webpack:///./client/src/components/sprite/creatures/jelly.js","webpack:///./client/src/components/sprite/creatures/native.js","webpack:///./client/src/components/sprite/creatures/parrot.js","webpack:///./client/src/components/sprite/creatures/ptero.js","webpack:///./client/src/components/sprite/creatures/spider.js","webpack:///./client/src/components/sprite/creatures/tiger.js","webpack:///./client/src/components/sprite/creatures/turtle.js","webpack:///./client/src/components/sprite/hero.js","webpack:///./client/src/components/sprite/behaviours/listen.js","webpack:///./client/src/components/sprite/behaviours/jump.js","webpack:///./client/src/components/sprite/behaviours/stop.js","webpack:///./client/src/components/sprite/behaviours/hit.js","webpack:///./client/src/gamestates/play/update.js","webpack:///./client/src/gamestates/play/eventemitters.js","webpack:///./client/src/gamestates/gameover/gameover.js","webpack:///./client/src/gamestates/gameover/create.js","webpack:///./client/src/gamestates/gameover/update.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uC;AACA;AACA,EAAC,E;;;;;;;;;ACrBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+B;;;;;;;;;ACdA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACvBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4B;;;;;;;;;ACpBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;;AAEA;AACA;;AAEA,yB;;;;;;;;;ACtCA;;AAEA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AC5CA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,uB;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO,mEAAmE;AAC1E,QAAO,4EAA4E;AACnF,QAAO,4DAA4D;AACnE,QAAO,gGAAgG;AACvG,QAAO,6MAA6M;AACpN,QAAO,kDAAkD;AACzD,QAAO,kDAAkD;AACzD,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,8EAA8E;AACrF,QAAO,mEAAmE;AAC1E,QAAO,mEAAmE;AAC1E,QAAO,mDAAmD;AAC1D,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,oDAAoD;AAC3D,QAAO,2DAA2D;AAClE,QAAO,iEAAiE;AACxE,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,uDAAuD;AAC9D,QAAO,uDAAuD;AAC9D,QAAO,wDAAwD;AAC/D,QAAO,oDAAoD;AAC3D,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,8GAA8G;AACrH,QAAO,2IAA2I;AAClJ,QAAO,sDAAsD;AAC7D,QAAO,6DAA6D;AACpE,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,uDAAuD;AAC9D,QAAO,uDAAuD;AAC9D,QAAO,uDAAuD;AAC9D,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,uEAAuE;AAC9E,QAAO,uDAAuD;AAC9D,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,mDAAmD;AAC1D,QAAO,iEAAiE;AACxE,QAAO,+DAA+D;AACtE,QAAO,mDAAmD;AAC1D,QAAO,gEAAgE;AACvE,QAAO,2DAA2D;AAClE,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO,mDAAmD;AAC1D,QAAO,2DAA2D;AAClE,QAAO,mDAAmD;AAC1D,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,2DAA2D;AAClE,QAAO,2DAA2D;AAClE,QAAO,mDAAmD;AAC1D,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,2EAA2E;AAClF,QAAO,2DAA2D;AAClE,QAAO,2DAA2D;AAClE,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,mFAAmF;AAC1F,QAAO,uDAAuD;AAC9D,QAAO,uDAAuD;AAC9D,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,mDAAmD;AAC1D,QAAO,gEAAgE;AACvE,QAAO,gEAAgE;AACvE,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,mDAAmD;AAC1D,QAAO,gEAAgE;AACvE,QAAO,+DAA+D;AACtE,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,0DAA0D;AACjE,QAAO,2DAA2D;AAClE,QAAO,0DAA0D;AACjE,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,kDAAkD;AACzD,QAAO,mDAAmD;AAC1D,QAAO,mDAAmD;AAC1D,QAAO,mDAAmD;AAC1D,QAAO,kDAAkD;AACzD,QAAO;AACP;AACA;AACA;;AAEA;AACA,2CAA0C,+C;AAC1C;AACA;AACA;AACA;AACA;AACA,I;AACA;;AAEA,kC;;;;;;;;;AC9RA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,0B;;;;;;;;;AClBA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;;;;AC/DA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qDAAoD,iBAAiB;AACrE;;AAEA,4B;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,kC;;;;;;;;;ACrCA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB,sBAAsB,EAAE;AAC7C;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qB;;;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4BAA2B;;AAE3B;;AAEA;AACA;AACA;AACA,kD;AACA,yC;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E,wCAAwC;AAClH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sB;AACA,iC;AACA;AACA,EAAC;;AAED;AACA,sB;AACA,iC;AACA;AACA,EAAC;;AAED;AACA;AACA;;AAEA,iC;;;;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mC;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kC;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;ACbA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;AChBA;AACA;AACA,oD;AACA;AACA;;AAEA,oBAAmB;AACnB;AACA;AACA;AACA;;AAEA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;AACA,gE;AACA;AACA;;AAEA,oBAAmB,K;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAuB,OAAO,KAAK;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mC;;;;;;;;;AC/CA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uB;;;;;;;;;AC5BA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,kC;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;;AAEA,+B;;;;;;;;;ACNA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,uCAAsC,cAAc;AACpD,MAAK;;AAEL;;AAEA;AACA;AACA,2C;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT,2C;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAAqC,4BAA4B;AACjE,MAAK;AACL,sCAAqC,6BAA6B;AAClE,MAAK;AACL,sCAAqC,4BAA4B;AACjE;;AAEA;AACA,sCAAqC,0BAA0B;AAC/D;;AAEA;AACA,sCAAqC,2BAA2B;AAChE;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA,yB;;;;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;;AAEA,gC;;;;;;;;;ACPA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACvBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA,yB;;;;;;;;;ACvBA;;AAEA;AACA;;AAEA;AACA;;AAEA,yB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 58d4392147fb4537b737\n **/","var globalConfig = require('./globalconfig.js');\nvar Menu = require('./gamestates/menu/menu.js');\nvar Play = require('./gamestates/play/play.js');\nvar GameOver = require('./gamestates/gameover/gameover.js');\n\n// instantiate a Phaser.Game\nvar PRE2 = new Phaser.Game(\n    globalConfig.width, \n    globalConfig.height, \n    Phaser.AUTO, \n    globalConfig.domElement\n);\n\n// register gamestates (will be instantiated w/ this.game as 1st param, pass globalConfig as 2nd)\nPRE2.state.add('Menu', Menu.bind(null, globalConfig));\nPRE2.state.add('Play', Play.bind(null, globalConfig));\nPRE2.state.add('GameOver', GameOver.bind(null, globalConfig));\n\n// kick off first gamestate: Menu\nPRE2.state.start('Menu', true, true, { \n    initialConfig: 'some initial state'\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","var globalConfig = {\n    width: 546,\n    height: 368,\n    blocks: 3,\n    domElement: 'app',\n    backgroundPath: 'backgrounds/',\n    tilesetPath: 'tilesets/',\n    levelPath: 'levels/',\n    textureAtlasPath: 'spritesheets/',\n    textureAtlasName: 'pre2atlas',\n    textureAtlasImage: 'pre2atlas.png',\n    textureAtlasJson: 'pre2atlas.json'\n};\n\nmodule.exports = globalConfig;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/globalconfig.js\n ** module id = 1\n ** module chunks = 0\n **/","var GameState = require('../../components/gamestate/gamestate.js');\nvar create = require('./create.js');\nvar update = require('./update.js');\n\n/*\n    @Menu\n    inherits from GameState component\n*/\nfunction Menu(globalConfig){\n    GameState.call(this);\n    this.globalConfig = globalConfig;\n}\nMenu.prototype = Object.create(GameState.prototype);\nMenu.prototype.constructor = Menu;\n\n/*\n    @override \n*/\nMenu.prototype = {\n    create: create,\n    update: update\n};\n\nmodule.exports = Menu;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/menu/menu.js\n ** module id = 2\n ** module chunks = 0\n **/","function GameState(){\n    this.keys = undefined;\n}\n\nGameState.prototype.init = function(configs){\n    console.log('[PHASER][Component][Init]', configs);\n};\n\nGameState.prototype.preload = function(){\n    console.log('[PHASER][Component][Preload]');\n};\n\nGameState.prototype.create = function(){\n    console.log('[PHASER][Component][Create]');\n};\n\nGameState.prototype.update = function(){\n    console.log('[PHASER][Component][Update]');\n};\n\nmodule.exports = GameState;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/gamestate/gamestate.js\n ** module id = 3\n ** module chunks = 0\n **/","var create = function(){\n    \n    // fps debugging\n    this.game.time.advancedTiming = true;\n\n    // CTA text\n    var text = this.game.add.text(\n        this.globalConfig.width / 2, \n        this.globalConfig.height / 2,\n        \"Menu screen\\nPress space \\nto start!\", \n        { font: \"48px Courier\", fill: \"#ffffff\", align: \"center\" }\n    );\n    \n    text.anchor.set(0.5);\n    \n    var spaceKey = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\n    this.game.input.addPointer();\n    \n    this.game.input.onDown.addOnce(fetchLevel, this);\n    spaceKey.onDown.addOnce(fetchLevel, this);\n\n    // load next game state by fetching level configs\n    function fetchLevel(event){\n        \n        text.setText('Loading...');\n        \n        fetch('/level/4', {\n        \tmethod: 'get'\n        }).then(function(response) {\n            return response.json();\n        }).then(function(json) {\n            this.game.state.start('Play', true, true, json);\n        }.bind(this));\n    }\n    \n    console.log('[PHASER][Menu][Create]');\n};\n\nmodule.exports = create;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/menu/create.js\n ** module id = 4\n ** module chunks = 0\n **/","var update = function(){\n    \n    // fps \n    this.game.debug.text(this.game.time.fps, 5, 20);\n    \n    console.log('[PHASER][Menu][Update]');\n};\n\nmodule.exports = update;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/menu/update.js\n ** module id = 5\n ** module chunks = 0\n **/","var GameState = require('../../components/gamestate/gamestate.js');\nvar init = require('./init.js');\nvar preload = require('./preload.js');\nvar create = require('./create.js');\nvar update = require('./update.js');\nvar eventEmitters = require('./eventemitters.js');\n\n/*\n    @Play\n    inherits from GameState component\n*/\nfunction Play(globalConfig){\n    GameState.call(this);\n    this.globalConfig = globalConfig;\n    \n    // extend Phaser gamestate with: \n    this.keys = undefined;\n    this.player = undefined;\n    this.levelConfig = undefined;\n    this.level = {\n        backgroundLayer: undefined,\n        groundLayer: undefined,\n        tilemap: undefined\n    };\n    this.enemies = undefined;\n}\nPlay.prototype = Object.create(GameState.prototype);\nPlay.prototype.constructor = Play;\n\n/*\n    @override \n*/\nPlay.prototype = {\n    init: init,\n    preload: preload,\n    create: create,\n    update: update\n};\n\n/*\n    @extend\n*/\nPlay.prototype = Object.assign(Play.prototype, eventEmitters);\n\nmodule.exports = Play;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/play.js\n ** module id = 6\n ** module chunks = 0\n **/","var creatureConfig = require('./creatureconfig.js');\n\nvar init = function(levelConfig){\n    \n    console.log('[PHASER][Play][Init]', levelConfig);\n    \n    this.levelConfig = levelConfig;\n    this.creatureConfig = creatureConfig;\n};\n\nmodule.exports = init;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/init.js\n ** module id = 7\n ** module chunks = 0\n **/","var creatureConfigs = {\n  creatureDefaults: {\n    active: true,\n    gravity: 500,\n    bounce: 0.2,\n    mass: 1,\n    jumping: 300,\n    maxSpeed: 100,\n    acceleration: 10,\n    collide: true,\n    lives: 1, \n    lifespan: Infinity,\n    sense: 150,\n    animations: [], \n    timeOf: {\n      'move': 200,\n      'hit': 100,\n      'hurt': 500,\n      'stop': 200,\n      'idle': 10\n    },\n    boundTo : {\n      x1: 1000,\n      x2: 1200\n    },\n    correctedAnchor: {\n      x: 0.5,\n      y: 0.5\n    }\n  },\n  man: {\n    maxSpeed: 200,\n    lives: 8, \n    lifespan: Infinity,\n    animations: [\n      { name: 'move', frames: [11,'03','05',14,20], fps: 10, loop: false }, \n      { name: 'hit', frames: [22,24,28,31,34,22,24,28,31,34], fps: 10, loop: true }, \n      { name: 'stop', frames: [42,45,49,52], fps: 10, loop: false }, \n      { name: 'jump', frames: [16,41,47,50,50,50,50,50,50,50,50,13,50,13,50,13], fps: 10, loop: false }, \n      { name: 'idle', frames: [25,25,25,25,25,25,25,25,27,27,27,27,25,25,25,25,25,25,25,25,30,25,25,25,25,25,25,25,25,27,30,27,30,35,36,25,25,25,25,25,25,25,25,'07','07','07','07','02','02'], fps: 5, loop: true }, \n      { name: 'hurt', frames: [19], fps: 10, loop: true },\n      { name: 'stun', frames: [19], fps: 10, loop: true },\n      { name: 'die', frames: [19], fps: 10, loop: false },\n      { name: 'spawn', frames: [11,'03','05',14,20], fps: 10, loop: false }\n    ],\n    correctedAnchor: {\n      x: 0.5,\n      y: 0.8\n    }\n  },\n  dino: {\n    mass: 1.5,\n    jumping: 300,\n    maxSpeed: 50,\n    acceleration: 5, \n    animations: [\n      { name: 'idle', frames: [360,360,360,360,360,360,360,367], fps: 5, loop: true },\n      { name: 'move', frames: [360,361,364,367,369], fps: 10, loop: true },\n      { name: 'jump', frames: [360,361,364,367,369], fps: 10, loop: true },\n      { name: 'fall', frames: [369], fps: 10, loop: true },\n      { name: 'die', frames: [371], fps: 10, loop: true },\n      { name: 'spawn', frames: [360,361,364,367], fps: 10, loop: true }\n    ]\n  },\n  bear: {\n    mass: 1.2,\n    maxSpeed: 75,\n    jumping: 0,\n    acceleration: 15, \n    animations: [\n      { name: 'idle', frames: [321], fps: 10, loop: false },\n      { name: 'move', frames: [320,321,324], fps: 10, loop: true },\n      { name: 'spawn', frames: [366,363,358,317], fps: 10, loop: false },\n      { name: 'die', frames: [328], fps: 10, loop: true }\n    ] \n  },\n  'super-bear': {\n    acceleration: 30,\n    maxSpeed: 200,\n    image: 'super-bear-sprite-ref', // override sprite (creature name by default)\n    animations: []\n  },\n  tiger: {\n    mass: 1.5,\n    jumping: 300,\n    maxSpeed: 50,\n    acceleration: 20, \n    animations: [\n      { name: 'idle', frames: [393,395], fps: 10, loop: true },\n      { name: 'move', frames: [393,395], fps: 10, loop: true },\n      { name: 'jump', frames: [399,401], fps: 10, loop: false },\n      { name: 'fall', frames: [399], fps: 10, loop: false },\n      { name: 'die', frames: [402], fps: 10, loop: true },\n      { name: 'spawn', frames: [393,395], fps: 10, loop: true }\n    ]\n  },\n  ptero: {\n    mass: 0.5,\n    gravity: 0,\n    bounce: 0.1,\n    jumping: 0,\n    collide: false,\n    maxSpeed: 10,\n    acceleration: 10, \n    animations: [\n      { name: 'idle', frames: [478,478,478,478,478,478,478,478,477,478,478,478,478,478,477,477], fps: 3, loop: true },\n      { name: 'move', frames: [403,404,405,403,404,405,405,405,405,405,405,403,404,405,403,404,405,405,405,405,405,405,405], fps: 10, loop: true },\n      { name: 'descend', frames: [405], fps: 15, loop: true },\n      { name: 'ascend', frames: [403,404,405], fps: 15, loop: true },\n      { name: 'die', frames: [471], fps: 10, loop: true },\n      { name: 'spawn', frames: [405,403,404], fps: 15, loop: true }\n    ]\n  }, \n  dragonfly: {\n    mass: 0.5,\n    gravity: 0,\n    bounce: 0.1,\n    jumping: 0,\n    collide: false,\n    maxSpeed: 50,\n    acceleration: 10, \n    animations: [\n      { name: 'idle', frames: [337,338], fps: 12, loop: true },\n      { name: 'move', frames: [337,338], fps: 12, loop: true },\n      { name: 'turn', frames: [339,340], fps: 12, loop: true },\n      { name: 'die', frames: [342], fps: 12, loop: true },\n      { name: 'spawn', frames: [337,338], fps: 12, loop: true }\n    ]\n  },\n  bat: {\n    mass: 0.5,\n    gravity: 0,\n    bounce: 0.1,\n    jumping: 0,\n    collide: false,\n    maxSpeed: 20,\n    acceleration: 10, \n    animations: [\n      { name: 'idle', frames: [351,352,351,351,351,351], fps: 10, loop: true },\n      { name: 'move', frames: [357,359], fps: 10, loop: true },\n      { name: 'die', frames: [362], fps: 10, loop: true },\n      { name: 'spawn', frames: [357,359], fps: 10, loop: true }\n    ]\n  },\n  spider: {\n    mass: 0.3,\n    jumping: 0,\n    collide: true,\n    bounce: 0,\n    maxSpeed: 50,\n    acceleration: 10,\n    animations: [\n      { name: 'idle', frames: [335], fps: 10, loop: true },\n      { name: 'spawn', frames: [365,368,370,372], fps: 10, loop: false },\n      { name: 'move', frames: [299,302,305,309], fps: 10, loop: true },\n      { name: 'turn', frames: [319], fps: 10, loop: true },\n      { name: 'climb', frames: [341,343,345,347], fps: 10, loop: true },\n      { name: 'wait', frames: [332,335,372], fps: 10, loop: true },\n      { name: 'die', frames: [322], fps: 10, loop: false }\n    ]\n  },\n  native: {\n    maxSpeed: 100,\n    acceleration: 20,\n    jumping: 0,\n    animations: [\n      { name: 'idle', frames: [373], fps: 10, loop: true },\n      { name: 'move', frames: [373,376,378], fps: 10, loop: true },\n      { name: 'die', frames: [380], fps: 10, loop: false },\n      { name: 'spawn', frames: [373,376,378], fps: 10, loop: true }\n    ]\n  },\n  parrot: {\n    mass: 0.5,\n    gravity: 0,\n    bounce: 0.1,\n    jumping: 0,\n    collide: false,\n    maxSpeed: 100,\n    acceleration: 10,\n    animations: [\n      { name: 'idle', frames: [394,397,398], fps: 12, loop: true },\n      { name: 'move', frames: [394,397,398], fps: 10, loop: true },\n      { name: 'die', frames: [400], fps: 10, loop: false },\n      { name: 'spawn', frames: [394,397,398], fps: 10, loop: true }\n    ]\n  },\n  insect: {\n    mass: 1,\n    collide: true,\n    bounce: 1.5,\n    jumping: 300,\n    maxSpeed: 50,\n    acceleration: 25, \n    animations: [\n      { name: 'idle', frames: [348,348,348,348,348,348,349], fps: 10, loop: true },\n      { name: 'move', frames: [323,348,349], fps: 10, loop: true },\n      { name: 'jump', frames: [323,348,349], fps: 10, loop: true },\n      { name: 'die', frames: [348], fps: 10, loop: true },\n      { name: 'spawn', frames: [323,348,349], fps: 10, loop: true }\n    ]\n  },\n  bug: {\n    mass: 1,\n    collide: true,\n    bounce: 1.5,\n    jumping: 300,\n    maxSpeed: 50,\n    acceleration: 25, \n    animations: [\n      { name: 'idle', frames: [344,344,344,344,344,344,344,344,346], fps: 10, loop: true },\n      { name: 'move', frames: [344,346], fps: 10, loop: true },\n      { name: 'jump', frames: [344,346], fps: 10, loop: true },\n      { name: 'die', frames: [344], fps: 10, loop: true },\n      { name: 'spawn', frames: [344,346], fps: 10, loop: true }\n    ]\n  },\n  frog: {\n    mass: 1,\n    collide: true,\n    bounce: 1.5,\n    jumping: 500,\n    maxSpeed: 80,\n    acceleration: 40, \n    animations: [\n      { name: 'idle', frames: [325], fps: 10, loop: true },\n      { name: 'move', frames: [325,327,331,325], fps: 10, loop: false },\n      { name: 'jump', frames: [325,327,331,325], fps: 10, loop: false },\n      { name: 'die', frames: [334], fps: 10, loop: true },\n      { name: 'spawn', frames: [325,327,331,325], fps: 10, loop: false }\n    ]\n  },\n  turtle: {\n    mass: 2,\n    jumping: 0,\n    collide: true,\n    bounce: 0.3,\n    maxSpeed: 50,\n    acceleration: 10,\n    animations: [\n      { name: 'idle', frames: [390], fps: 10, loop: true },\n      { name: 'spawn', frames: [377,381,384,385], fps: 10, loop: true },\n      { name: 'move', frames: [387,389,390,391], fps: 10, loop: true },\n      { name: 'die', frames: [392], fps: 10, loop: true }\n    ]\n  },\n  jelly: {\n    mass: 2,\n    jumping: 0,\n    collide: true,\n    bounce: 1,\n    maxSpeed: 5,\n    acceleration: 1,\n    animations: [\n      { name: 'idle', frames: [420,433,434], fps: 3, loop: true },\n      { name: 'spawn', frames: [420,433,434], fps: 3, loop: true },\n      { name: 'move', frames: [420,433,434], fps: 3, loop: true },\n      { name: 'die', frames: [420,433,434], fps: 3, loop: true }\n    ]\n  },\n  gorilla: {\n    mass: 5,\n    jumping: 300,\n    maxSpeed: 0,\n    acceleration: 0, \n    animations: [\n      { name: 'idle', frames: [411], fps: 5, loop: true },\n      { name: 'move', frames: [411], fps: 10, loop: true },\n      { name: 'jump', frames: [411], fps: 10, loop: true },\n      { name: 'fall', frames: [411], fps: 10, loop: true },\n      { name: 'die', frames: [411], fps: 10, loop: true },\n      { name: 'spawn', frames: [411], fps: 10, loop: true }\n    ]\n  }\n};\n\nfor(var creature in creatureConfigs){\n  //creatureConfigs[creature] = _.merge({}, configs.creatureDefaults, configs[creature]);  \n  var defaults = creatureConfigs['creatureDefaults'];\n  for(var prop in defaults){\n    if(creatureConfigs[creature][prop] === undefined){\n      creatureConfigs[creature][prop] = defaults[prop];\n    }\n  }  \n}\n\nmodule.exports = creatureConfigs;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/creatureconfig.js\n ** module id = 8\n ** module chunks = 0\n **/","var preload = function(){\n    console.log('[PHASER][Play][Preload]');\n    \n    this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n    this.game.scale.pageAlignHorizontally = true;\n    this.game.scale.pageAlignVertically = true;\n    \n    this.game.load.atlas('pre2atlas', 'spritesheets/pre2atlas.png', 'spritesheets/pre2atlas.json', Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);\n    \n    // load background\n    this.game.load.image(this.levelConfig.backgroundKey, this.globalConfig.backgroundPath + this.levelConfig.backgroundImage + this.levelConfig.backgroundImageExtension);\n    // load tileset\n    this.game.load.image(this.levelConfig.tileset, this.globalConfig.tilesetPath + this.levelConfig.tilesetImage + this.levelConfig.tilesetImageExtension);\n    // load tilemap\n    this.game.load.tilemap(this.levelConfig.tilemap, this.globalConfig.levelPath + this.levelConfig.tiledJson, null, Phaser.Tilemap.TILED_JSON);\n    \n};\n\nmodule.exports = preload;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/preload.js\n ** module id = 9\n ** module chunks = 0\n **/","var levelLoader = require('./levelloader.js');\nvar reactions = require('./reactions.js');\nvar creatureFactory = require('./creaturefactory.js');\nvar Hero = require('../../components/sprite/hero.js');\n\nvar create = function(){\n    \n    // fps debugging\n    this.game.time.advancedTiming = true;\n    \n    // [SET LEVEL] set dimensions, start physic system\n    this.game.world.setBounds(\n        0, \n        0, \n        this.globalConfig.width * this.globalConfig.blocks, \n        this.globalConfig.height\n    );\n    \n    this.game.physics.startSystem(Phaser.Physics.ARCADE);\n    \n    // [SET LEVEL] load level background, tiles, layers\n    levelLoader.createBackground.call(this, 'backgroundLayer');\n    levelLoader.createTiles.call(\n        this, \n        this.levelConfig.tilemap, \n        this.levelConfig.tileset, \n        this.levelConfig.tilesetImage\n    );\n    levelLoader.createLayers.call(this, this.levelConfig.layers);\n    \n    // [SET LEVEL] fix background, resize\n    this.level.backgroundLayer.fixedToCamera = this.levelConfig.fixedBackground;\n    this.level.groundLayer.resizeWorld();\n    \n    // [PLAYER]\n    this.player = new Hero(\n        this.game,\n        this.levelConfig.entryPoint.x, \n        this.levelConfig.entryPoint.y, \n        this.globalConfig.textureAtlasName,\n        this.creatureConfig.man \n    );\n    \n    this.game.camera.follow(this.player);\n    \n    this.player.onEvents = reactions;\n    this.player.listen(this.eventsOf.keys, this.player.onEvents);\n    this.player.listen(this.eventsOf.level, this.player.onEvents);\n    \n    // [CREATURES] spawn enemies\n    creatureFactory.createEnemyGroup.call(this);\n    this.levelConfig.enemies.forEach(creatureFactory.create.bind(this));\n    \n    // bind keys\n    this.keys = this.game.input.keyboard.createCursorKeys();\n    this.keys.space = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\n    \n    // Phaser preserves binding through game states so it needs to be deleted\n    // http://www.html5gamedevs.com/topic/5631-preserve-input-bindings/\n    \n    console.log('[PHASER][Play][Create]');\n};\n\nmodule.exports = create;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/create.js\n ** module id = 10\n ** module chunks = 0\n **/","var levelLoader = {\n    createBackground: function(layerName){\n        this.level.backgroundLayer = this.game.add.tileSprite(0, 0, this.levelConfig.width, this.levelConfig.height, this.levelConfig.backgroundKey);\n    },\n    createLayer: function(layer){\n        this.level[layer] = this.level.tilemap.createLayer(this.levelConfig[layer]);\n    },\n    createLayers: function(layers){\n        for(var layer in layers){\n            this.level[layer] = this.level.tilemap.createLayer(this.levelConfig.layers[layer].key);\n            this.level[layer].visible = this.levelConfig.layers[layer].visible;\n        }\n    },\n    createTiles: function(tilemapKey, tilesetKey, tilesetImage){\n        this.level.tilemap = this.game.add.tilemap(tilemapKey);\n        this.level.tilemap.addTilesetImage(tilesetImage, tilesetKey);\n        this.level.tilemap.setCollisionBetween(0, 3000, true, this.levelConfig.layers.collisionLayer.key);\n        this.level.tilemap.setCollisionBetween(0, 3000, true, this.levelConfig.layers.deathLayer.key);\n    }\n};\n\nmodule.exports = levelLoader;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/levelloader.js\n ** module id = 11\n ** module chunks = 0\n **/","var reactions = function(event){\n    switch(event.type){\n        case 'MOVE': \n            onMove.call(this, event);\n            break;\n        case 'HURT': \n            onHurt.call(this, event);\n            break;\n        case 'DIE': \n            onDie.call(this, event);\n            break;\n    }\n};\n\nfunction onMove(event){\n    switch(event.key){\n        case 'left':\n            this.moveLeft();\n            break;\n        case 'right':\n            this.moveRight();\n            break;\n        case 'up':\n            this.jump();\n            break;\n        case 'down':\n            break;\n        case 'stop':\n            this.stop();\n            break;\n        case 'hit':\n            this.hit();\n            break;\n    }   \n}\n\nfunction onHurt(event){\n    if(this === event.subject){\n        this.hurt(event.direction);\n    }\n}\n\nfunction onDie(event){\n    // removing event listeners on state shutdown otherwise causing memory leak and GC fails\n    this.game.state.states.Play.eventsOf.keys.remove(this.onEvents, this);\n    this.game.state.states.Play.eventsOf.level.remove(this.onEvents, this);\n    this.game.state.start('GameOver', true, false, { levelNumber: 1 });\n}\n\nmodule.exports = reactions;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/reactions.js\n ** module id = 12\n ** module chunks = 0\n **/","var Creature = {\n    bat: require('../../components/sprite/creatures/bat.js'),\n    bear: require('../../components/sprite/creatures/bear.js'),\n    bug: require('../../components/sprite/creatures/bug.js'),\n    dino: require('../../components/sprite/creatures/dino.js'),\n    dragonfly: require('../../components/sprite/creatures/dragonfly.js'),\n    frog: require('../../components/sprite/creatures/frog.js'),\n    gorilla: require('../../components/sprite/creatures/gorilla.js'),\n    insect: require('../../components/sprite/creatures/insect.js'),\n    jelly: require('../../components/sprite/creatures/jelly.js'),\n    native: require('../../components/sprite/creatures/native.js'),\n    parrot: require('../../components/sprite/creatures/parrot.js'),\n    ptero: require('../../components/sprite/creatures/ptero.js'),\n    spider: require('../../components/sprite/creatures/spider.js'),\n    tiger: require('../../components/sprite/creatures/tiger.js'),\n    turtle: require('../../components/sprite/creatures/turtle.js')\n};\n\nvar creatureFactory = {\n    createEnemyGroup: function(){\n        this.enemies = new Phaser.Group(this.game);\n    },\n    create: function(creature){\n        var enemy = new Creature[creature.type](\n            this.game, \n            creature.origin.x, \n            creature.origin.y, \n            this.globalConfig.textureAtlasName,\n            this.creatureConfig[creature.type]\n        );\n        \n        enemy.setBounds(creature.boundTo);\n        \n        this.enemies.add(enemy);\n    }\n};\n\nmodule.exports = creatureFactory;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/creaturefactory.js\n ** module id = 13\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Bat(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nBat.prototype = Object.create(AI.prototype);\nBat.prototype.constructor = Bat;\n\nmodule.exports = Bat;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/bat.js\n ** module id = 14\n ** module chunks = 0\n **/","var ExtendedSprite = require('./extendedsprite.js');\nvar decide = require('./behaviours/decide.js');\nvar move = require('./behaviours/move.js');\nvar turn = require('./behaviours/turn.js');\nvar hurt = require('./behaviours/hurt.js');\nvar boundTo = require('./behaviours/boundto.js');\n\n/*\n    @Hero\n*/\nfunction AI(game, x, y, sprite, props){\n    ExtendedSprite.call(this, game, x, y, sprite, props);\n    \n    this.id = this.constructor.name + '-' + x + '-' + y;\n}\n\nAI.prototype = Object.create(ExtendedSprite.prototype);\nAI.prototype.constructor = AI;\n\n// hacky... :(\nObject.defineProperty(AI.prototype, 'boundTo', {\n    get: function() { return this._boundTo; }, \n    set: function(bounds) {\n        this._boundTo = bounds;\n    }\n});\n\nAI.prototype = Object.assign(\n    AI.prototype, \n    decide,\n    move,\n    turn,\n    hurt,\n    boundTo\n);\n\nmodule.exports = AI;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/ai.js\n ** module id = 15\n ** module chunks = 0\n **/","var modifyState = require('./behaviours/state.js');\nvar debug = require('./behaviours/debug.js');\n\n/*\n    @ExtendedSprite\n*/\nfunction ExtendedSprite(game, x, y, sprite, props){\n    \n    this.game = game;\n    this.props = props || { animations: [] };\n    \n    Phaser.Sprite.call(this, game, x, y, sprite);\n    \n    this.props.animations.forEach(function(animation){\n        this.animations.add(\n            animation.name, \n            animation.frames.map(function(frame){ \n                return frame.toString(); \n            }), \n            animation.fps, \n            animation.loop\n        );\n    }.bind(this));\n    \n    this.state = {\n        'die': 0,\n        'hurt': 0,\n        'hit': 0,\n        'move': 0,\n        'idle': Infinity\n    };\n    \n    this.game.add.existing(this);\n    this.game.physics.enable(this, Phaser.Physics.ARCADE);\n    this.body.gravity.y = this.props.gravity;\n    this.anchor.setTo(0.5, 0.5);\n    this.body.collideWorldBounds = true;\n    this.checkWorldBounds = true;\n    this.outOfBoundsKill = true;\n    this._debugText = this.addChild(this.game.add.text(20, -20, 'debug', { font: \"12px Courier\", fill: \"#ffffff\" }));\n    this._debugText.visible = false;\n}\n\nExtendedSprite.prototype = Object.create(Phaser.Sprite.prototype);\nExtendedSprite.prototype.constructor = ExtendedSprite;\n\nExtendedSprite.prototype = Object.assign(\n    ExtendedSprite.prototype, \n    modifyState,\n    debug\n);\n\n/*\n    facing right: this.scale.x = 1\n    facing left: this.scale.x = -1\n*/\nObject.defineProperty(ExtendedSprite.prototype, 'facingRight', {\n    get: function() { \n        return this.scale.x > 0; \n    }\n});\n\nObject.defineProperty(ExtendedSprite.prototype, 'facingLeft', {\n    get: function() { \n        return this.scale.x < 0; \n    }\n});\n\nExtendedSprite.prototype.update = function(){\n    this.animations.play(this.getState());\n};\n \nmodule.exports = ExtendedSprite;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/extendedsprite.js\n ** module id = 16\n ** module chunks = 0\n **/","var statefulCreature = {\n    /*\n        @setState: set timestamp\n    */\n    setState: function(type, time){\n        if(this.state[type] !== undefined){\n            // + 200: realistic animation time\n            // + 0: not animating at all as it is already expired while the execution context get there\n            // + 10: minimal \n            // + 500: too much delayed reaction\n            this.state[type] = this.game.time.now + (time || this.props.timeOf[type] || 200);\n        }\n    },\n    /*\n        @getState\n        @return first state in the priority order which has not yet expired\n    */\n    getState: function(){\n        for(var type in this.state){\n            if(this.game.time.now < this.state[type]){\n                return type;\n            }\n        }\n        return 'idle';\n    },\n    /*\n        @hasState\n        @return true if state still valid, false if expired, undefined if not found\n    */\n    hasState: function(type){\n        return this.state[type] !== undefined ? this.state[type] >= this.game.time.now : undefined;\n    }\n};\n\nmodule.exports = statefulCreature;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/state.js\n ** module id = 17\n ** module chunks = 0\n **/","var debugBehaviour = {\n    debug: function(toDebug){\n       this._debugText.visible = true;\n       this._debugText.scale.x = this.scale.x;\n       this._debugText.setText(toDebug.toString() || '');\n       return this;\n    }\n};\n\nmodule.exports = debugBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/debug.js\n ** module id = 18\n ** module chunks = 0\n **/","var decideBehaviour = {\n    update: function(){\n        this.animations.play('move');\n        //this.turnIfBlocked();\n        this.checkBounds();\n        this.move();\n    }\n};\n\nmodule.exports = decideBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/decide.js\n ** module id = 19\n ** module chunks = 0\n **/","var moveBehaviour = {\n    moveLeft: function(){\n        this.scale.x = -1;\n        this.setState('move');\n        if(this.body.velocity.x > -this.props.maxSpeed){\n            this.body.velocity.x -= this.props.acceleration;\n        }\n        return this;\n    },\n    moveRight: function(){\n        this.scale.x = 1;\n        this.setState('move');\n        if(this.body.velocity.x < this.props.maxSpeed){\n            this.body.velocity.x += this.props.acceleration;\n        }\n        return this;\n    }, \n    move: function(){\n        if(this.scale.x === 1){\n            this.moveRight();\n        } else {\n            this.moveLeft();\n        }\n    }\n};\n\nmodule.exports = moveBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/move.js\n ** module id = 20\n ** module chunks = 0\n **/","var turnBehaviour = {\n    turnIfBlocked: function(){\n        if(this.body.blocked.left || this.body.blocked.right){\n            this.scale.x *= -1;\n        }\n        return this;\n    },\n    turn: function(){\n        this.scale.x *= -1;\n        return this;\n    }\n};\n\nmodule.exports = turnBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/turn.js\n ** module id = 21\n ** module chunks = 0\n **/","var hurtBehaviour = {\n    hurt: function(direction){\n        \n        this.setState('hurt');\n        \n        this.body.velocity.y -= 100;\n        if(direction && direction.left){\n            this.body.velocity.x += 50;\n        }\n        if(direction && direction.right){\n            this.body.velocity.x -= 50;\n        }\n        return this;\n    }\n};\n\nmodule.exports = hurtBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/hurt.js\n ** module id = 22\n ** module chunks = 0\n **/","var boundToBehaviour = {\n    setBounds: function(bounds){\n        if(!bounds || !Object.keys(bounds).length){ \n           return this;\n        }\n       \n        // @Point {x, y}\n        if(bounds.hasOwnProperty('x') && \n            bounds.hasOwnProperty('y')){\n                this.boundTo = new Phaser.Point(bounds.x, bounds.y);\n        }\n       \n        // @Rectangle { x1, x2 }\n        if(bounds.hasOwnProperty('x1') && \n            bounds.hasOwnProperty('x2') &&\n            !bounds.hasOwnProperty('y1') &&\n            !bounds.hasOwnProperty('y2')){\n                this.boundTo = new Phaser.Rectangle(bounds.x1, 0, bounds.x2 - bounds.x1, this.game.height);\n        }\n        \n        return this;\n    },\n    checkBounds: function(){\n        if(!this.boundTo || !Object.keys(this.boundTo).length){ \n           return;\n        }\n        \n        // @Point {x, y} \n        if(!this.boundTo.hasOwnProperty('width') && \n            !Phaser.Rectangle.containsPoint(this.getBounds(), this.boundTo) &&\n            ((this.x < this.boundTo.x && !this.facingRight) || \n            (this.x > this.boundTo.x && this.facingRight))){\n                this.turn();\n        }\n        \n        // @Rectangle {x1, x2} or {x1, y1, x2, y2}\n        if(this.boundTo &&\n            this.boundTo.hasOwnProperty('width') && \n            (this.x < this.boundTo.x && this.facingLeft || \n            this.x > this.boundTo.x + this.boundTo.width && this.facingRight)){\n                this.turn();\n        }\n        \n        return this;\n    }\n};\n\nmodule.exports = boundToBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/boundto.js\n ** module id = 23\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Bear(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nBear.prototype = Object.create(AI.prototype);\nBear.prototype.constructor = Bear;\n\nmodule.exports = Bear;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/bear.js\n ** module id = 24\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Bug(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nBug.prototype = Object.create(AI.prototype);\nBug.prototype.constructor = Bug;\n\nmodule.exports = Bug;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/bug.js\n ** module id = 25\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Dino(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nDino.prototype = Object.create(AI.prototype);\nDino.prototype.constructor = Dino;\n\nmodule.exports = Dino;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/dino.js\n ** module id = 26\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Dragonfly(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nDragonfly.prototype = Object.create(AI.prototype);\nDragonfly.prototype.constructor = Dragonfly;\n\nmodule.exports = Dragonfly;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/dragonfly.js\n ** module id = 27\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Frog(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nFrog.prototype = Object.create(AI.prototype);\nFrog.prototype.constructor = Frog;\n\nmodule.exports = Frog;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/frog.js\n ** module id = 28\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Gorilla(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nGorilla.prototype = Object.create(AI.prototype);\nGorilla.prototype.constructor = Gorilla;\n\nmodule.exports = Gorilla;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/gorilla.js\n ** module id = 29\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Insect(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nInsect.prototype = Object.create(AI.prototype);\nInsect.prototype.constructor = Insect;\n\nmodule.exports = Insect;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/insect.js\n ** module id = 30\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Jelly(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nJelly.prototype = Object.create(AI.prototype);\nJelly.prototype.constructor = Jelly;\n\nmodule.exports = Jelly;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/jelly.js\n ** module id = 31\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Native(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nNative.prototype = Object.create(AI.prototype);\nNative.prototype.constructor = Native;\n\nmodule.exports = Native;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/native.js\n ** module id = 32\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Parrot(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nParrot.prototype = Object.create(AI.prototype);\nParrot.prototype.constructor = Parrot;\n\nmodule.exports = Parrot;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/parrot.js\n ** module id = 33\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Ptero(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nPtero.prototype = Object.create(AI.prototype);\nPtero.prototype.constructor = Ptero;\n\nmodule.exports = Ptero;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/ptero.js\n ** module id = 34\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Spider(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nSpider.prototype = Object.create(AI.prototype);\nSpider.prototype.constructor = Spider;\n\nmodule.exports = Spider;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/spider.js\n ** module id = 35\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Tiger(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nTiger.prototype = Object.create(AI.prototype);\nTiger.prototype.constructor = Tiger;\n\nmodule.exports = Tiger;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/tiger.js\n ** module id = 36\n ** module chunks = 0\n **/","var AI = require('../ai.js');\n\nfunction Turtle(game, x, y, sprite, props){\n\tAI.call(this, game, x, y, sprite, props);\n}\nTurtle.prototype = Object.create(AI.prototype);\nTurtle.prototype.constructor = Turtle;\n\nmodule.exports = Turtle;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/creatures/turtle.js\n ** module id = 37\n ** module chunks = 0\n **/","var ExtendedSprite = require('./extendedsprite.js');\nvar listen = require('./behaviours/listen.js');\nvar jump = require('./behaviours/jump.js');\nvar stop = require('./behaviours/stop.js');\nvar move = require('./behaviours/move.js');\nvar hurt = require('./behaviours/hurt.js');\nvar hit = require('./behaviours/hit.js');\n\n/*\n    @Hero\n*/\nfunction Hero(game, x, y, sprite, props){\n    ExtendedSprite.call(this, game, x, y, sprite, props);\n}\n\nHero.prototype = Object.create(ExtendedSprite.prototype);\nHero.prototype.constructor = Hero;\n\nHero.prototype = Object.assign(\n    Hero.prototype, \n    listen, \n    jump,\n    stop,\n    move,\n    hurt,\n    hit\n);\n\nmodule.exports = Hero;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/hero.js\n ** module id = 38\n ** module chunks = 0\n **/","var listenBehaviour = {\n    listen: function(eventSource, callback){\n        eventSource.add(callback, this);\n    },\n    onEvents: function(event){\n        console.log('[%s]: ', this.constructor.name, event);\n    }\n};\n\nmodule.exports = listenBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/listen.js\n ** module id = 39\n ** module chunks = 0\n **/","var jumpBehaviour = {\n    jump: function(){\n        if(this.body.touching.down || this.body.blocked.down){\n            this.body.velocity.y -= this.props.jumping;\n        }\n        return this;\n    }\n};\n\nmodule.exports = jumpBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/jump.js\n ** module id = 40\n ** module chunks = 0\n **/","var stopBehaviour = {\n    stop: function(){\n        // slippery rate: 1.1, should go later to levelConfig\n        this.body.velocity.x /= 1.1;\n        this.setState('stop');\n        return this;\n    }\n};\n\nmodule.exports = stopBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/stop.js\n ** module id = 41\n ** module chunks = 0\n **/","var hitBehaviour = {\n    hit: function(){\n        this.setState('hit');\n    }\n};\n\nmodule.exports = hitBehaviour;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/sprite/behaviours/hit.js\n ** module id = 42\n ** module chunks = 0\n **/","var update = function(){\n    \n    // console.log('[PHASER][Play][Update]');\n    \n    // [DEBUG] fps \n    this.game.debug.text(this.game.time.fps, 5, 20);\n    \n    // [COLLISIONS]\n    this.game.physics.arcade.collide(this.player, this.level.collisionLayer);\n    \n    this.game.physics.arcade.collide(this.enemies, this.level.collisionLayer);\n    \n    this.game.physics.arcade.collide(this.player, this.level.deathLayer, function(){\n        this.eventsOf.level.dispatch({ type: 'DIE' });\n    }.bind(this));\n    \n    this.game.physics.arcade.collide(this.player, this.enemies, function(player, enemy){\n        \n        this.game.camera.shake(0.003, 500, true, Phaser.Camera.VERTICAL, true);\n        if(this.player.hasState('hit')){\n            this.eventsOf.level.dispatch({ \n                type: 'HURT', \n                subject: enemy.id,\n                direction: enemy.body.touching \n            });\n        } else {\n            this.eventsOf.level.dispatch({ \n                type: 'HURT', \n                subject: this.player, \n                direction: this.player.body.touching \n            });\n        }\n    }.bind(this));\n    \n    /*\n    debugEnemies.call(this, function(){\n        return this.facingRight;\n    });\n    */\n    \n    // [KEYPRESS] event dispatch\n    handleKeypress.call(this);\n};\n\nfunction handleKeypress(){\n    if(this.player.hasState('hurt')){\n        return;\n    }\n    if(this.keys.left.isDown){\n        this.eventsOf.keys.dispatch({ type: 'MOVE', key: 'left' });\n    } else if(this.keys.right.isDown){\n        this.eventsOf.keys.dispatch({ type: 'MOVE', key: 'right' });\n    } else {\n        this.eventsOf.keys.dispatch({ type: 'MOVE', key: 'stop' });\n    }\n    \n    if(this.keys.up.isDown){\n        this.eventsOf.keys.dispatch({ type: 'MOVE', key: 'up' });\n    }\n    \n    if(this.keys.space.isDown){\n        this.eventsOf.keys.dispatch({ type: 'MOVE', key: 'hit' });\n    }\n}\n\nfunction debugEnemies(debugCallback){\n    this.enemies.forEachAlive(function(enemy){\n        enemy.debug(debugCallback.call(enemy));\n    });\n}\n\nmodule.exports = update;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/update.js\n ** module id = 43\n ** module chunks = 0\n **/","var eventEmitters = {\n    eventsOf: {\n        keys: new Phaser.Signal(),\n        level: new Phaser.Signal()\n    }\n};\n\nmodule.exports = eventEmitters;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/eventemitters.js\n ** module id = 44\n ** module chunks = 0\n **/","var GameState = require('../../components/gamestate/gamestate.js');\nvar create = require('./create.js');\nvar update = require('./update.js');\n\n/*\n    @GameOver\n    inherits from GameState component\n*/\nfunction GameOver(globalConfig){\n    GameState.call(this);\n    this.globalConfig = globalConfig;\n}\nGameOver.prototype = Object.create(GameState.prototype);\nGameOver.prototype.constructor = GameOver;\n\n/*\n    @override \n*/\nGameOver.prototype = {\n    create: create,\n    update: update\n};\n\nmodule.exports = GameOver;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/gameover/gameover.js\n ** module id = 45\n ** module chunks = 0\n **/","var create = function(){\n    \n    // fps debugging\n    this.game.time.advancedTiming = true;\n\n    // CTA text\n    var text = this.game.add.text(\n        this.globalConfig.width / 2, \n        this.globalConfig.height / 2, \n        \"Game Over\\nPress space \\nto continue\", \n        { font: \"48px Courier\", fill: \"#ffffff\", align: \"center\" }\n    );\n\n    text.anchor.set(0.5);\n    \n    var spaceKey = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\n    spaceKey.onDown.addOnce(function(){\n        this.game.state.start('Menu', true, true);\n    }, this);\n    \n    console.log('[PHASER][GameOver][Create]');\n};\n\nmodule.exports = create;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/gameover/create.js\n ** module id = 46\n ** module chunks = 0\n **/","var update = function(){\n    \n    // fps \n    this.game.debug.text(this.game.time.fps, 5, 20);\n    \n    console.log('[PHASER][GameOver][Update]');\n};\n\nmodule.exports = update;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/gameover/update.js\n ** module id = 47\n ** module chunks = 0\n **/"],"sourceRoot":""}