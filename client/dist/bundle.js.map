{"version":3,"sources":["webpack:///webpack/bootstrap d73efe21a1e1109e2542","webpack:///./client/src/index.js","webpack:///./client/src/gamestates/play/play.js","webpack:///./client/src/components/gamestate/gamestate.js","webpack:///./client/src/gamestates/play/init.js","webpack:///./client/src/gamestates/play/preload.js","webpack:///./client/src/gamestates/play/create.js","webpack:///./client/src/gamestates/play/update.js","webpack:///./client/src/gamestates/menu/menu.js","webpack:///./client/src/gamestates/menu/create.js","webpack:///./client/src/gamestates/menu/update.js","webpack:///./client/src/globalconfig.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uC;AACA;AACA,EAAC,E;;;;;;;;;;ACnBD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACnCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4B;;;;;;;;;ACpBA;;AAEA;;AAEA;AACA;;AAEA,uB;;;;;;;;;ACPA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,0B;;;;;;;;;AChBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;;;;AC9BA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;;;;AC5BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACvBA;;AAEA;AACA;;AAEA;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;;AAEA;AACA;;AAEA,yB;;;;;;;;;ACnCA;;AAEA;AACA;;AAEA;AACA;;AAEA,yB;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0B","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d73efe21a1e1109e2542\n **/","var globalConfig = require('./globalconfig.js');\nvar Menu = require('./gamestates/menu/menu.js');\nvar Play = require('./gamestates/play/play.js');\n\n// instantiate a Phaser.Game\nvar PRE2 = new Phaser.Game(\n    globalConfig.WIDTH, \n    globalConfig.HEIGHT, \n    globalConfig.AUTO, \n    globalConfig.DOM_ELEMENT\n);\n\n// register gamestates (will be instantiated w/ this.game as 1st param, pass globalConfig as 2nd)\nPRE2.state.add('Menu', Menu.bind(null, globalConfig));\nPRE2.state.add('Play', Play.bind(null, globalConfig));\n\n// kick off first gamestate: Menu\nPRE2.state.start('Menu', true, true, { \n    initialConfig: 'some initial state'\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","var GameState = require('../../components/gamestate/gamestate.js');\nvar init = require('./init.js');\nvar preload = require('./preload.js');\nvar create = require('./create.js');\nvar update = require('./update.js');\n\n/*\n    @Play\n    inherits from GameState component\n*/\nfunction Play(globalConfig){\n    GameState.call(this);\n    this.globalConfig = globalConfig;\n    \n    // extend Phaser gamestate with: \n    this.levelConfig = undefined;\n    this.level = {\n        backgroundLayer: undefined,\n        groundLayer: undefined,\n        tilemap: undefined\n    };\n}\nPlay.prototype = Object.create(GameState.prototype);\nPlay.prototype.constructor = Play;\n\n/*\n    @override \n*/\nPlay.prototype = {\n    init: init,\n    preload: preload,\n    create: create,\n    update: update\n};\n\nmodule.exports = Play;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/play.js\n ** module id = 2\n ** module chunks = 0\n **/","function GameState(){\n    this.keys = undefined;\n}\n\nGameState.prototype.init = function(configs){\n    console.log('[PHASER][Component][Init]', configs);\n};\n\nGameState.prototype.preload = function(){\n    console.log('[PHASER][Component][Preload]');\n};\n\nGameState.prototype.create = function(){\n    console.log('[PHASER][Component][Create]');\n};\n\nGameState.prototype.update = function(){\n    console.log('[PHASER][Component][Update]');\n};\n\nmodule.exports = GameState;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/components/gamestate/gamestate.js\n ** module id = 3\n ** module chunks = 0\n **/","var init = function(levelConfig){\n    \n    console.log('[PHASER][Play][Init]', levelConfig);\n    \n    this.levelConfig = levelConfig;\n};\n\nmodule.exports = init;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/init.js\n ** module id = 4\n ** module chunks = 0\n **/","var preload = function(){\n    console.log('[PHASER][Play][Preload]');\n    \n    this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n    this.game.scale.pageAlignHorizontally = true;\n    this.game.scale.pageAlignVertically = true;\n    \n    // load background\n    this.game.load.image(this.levelConfig.backgroundLayer, this.globalConfig.BACKGROUND_PATH + this.levelConfig.backgroundImage + this.levelConfig.backgroundImageExtension);\n    // load tileset\n    this.game.load.image(this.levelConfig.tileset, this.globalConfig.TILESET_PATH + this.levelConfig.tilesetImage + this.levelConfig.tilesetImageExtension);\n    // load tilemap\n    this.game.load.tilemap(this.levelConfig.tilemap, this.globalConfig.LEVEL_PATH + this.levelConfig.tiledJson, null, Phaser.Tilemap.TILED_JSON);\n    \n};\n\nmodule.exports = preload;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/preload.js\n ** module id = 5\n ** module chunks = 0\n **/","var create = function(){\n    \n    // fps debugging\n    this.game.time.advancedTiming = true;\n    \n    this.game.world.setBounds(0, 0, 546 * 3, 368);\n    this.game.physics.startSystem(Phaser.Physics.ARCADE);\n    \n    this.level.backgroundLayer = this.game.add.tileSprite(0, 0, this.levelConfig.width, this.levelConfig.height, this.levelConfig.backgroundLayer);\n    this.level.tilemap = this.game.add.tilemap(this.levelConfig.tilemap);\n    this.level.tilemap.addTilesetImage(this.levelConfig.tilesetImage, this.levelConfig.tileset);\n    this.level.groundLayer = this.level.tilemap.createLayer(this.levelConfig.groundLayer);\n    this.level.backgroundLayer.fixedToCamera = this.levelConfig.fixedBackground;\n    this.level.groundLayer.resizeWorld();\n    \n    this.player = this.game.add.sprite(0, this.game.world.height - 100, 'nonExistingSpriteKey');\n    this.game.physics.enable(this.player);\n    this.game.camera.follow(this.player);\n    \n    // bind keys\n    this.keys = this.game.input.keyboard.createCursorKeys();\n    this.keys.space = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\n    \n    // Phaser preserves binding through game states so it needs to be deleted\n    // http://www.html5gamedevs.com/topic/5631-preserve-input-bindings/\n    this.game.input.keyboard.onDownCallback = null;\n    \n    console.log('[PHASER][Play][Create]');\n};\n\nmodule.exports = create;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/create.js\n ** module id = 6\n ** module chunks = 0\n **/","var update = function(){\n    \n    // fps \n    this.game.debug.text(this.game.time.fps, 5, 20);\n    \n    if(this.keys.left.isDown){\n        console.log('[PHASER] KEYS left');\n        this.player.body.x-=20;\n    }\n    if(this.keys.right.isDown){\n        console.log('[PHASER] KEYS right');\n        this.player.body.x+=20;\n    }\n    if(this.keys.up.isDown){\n        console.log('[PHASER] KEYS up');\n        this.player.body.y-=20;\n    }\n    if(this.keys.down.isDown){\n        console.log('[PHASER] KEYS down');\n        this.player.body.y+=20;\n    }\n    if(this.keys.space.isDown){\n        console.log('[PHASER] KEYS space');\n    }\n    \n    console.log('[PHASER][Play][Update]');\n};\n\nmodule.exports = update;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/play/update.js\n ** module id = 7\n ** module chunks = 0\n **/","var GameState = require('../../components/gamestate/gamestate.js');\nvar create = require('./create.js');\nvar update = require('./update.js');\n\n/*\n    @Menu\n    inherits from GameState component\n*/\nfunction Menu(globalConfig){\n    GameState.call(this);\n    this.globalConfig = globalConfig;\n}\nMenu.prototype = Object.create(GameState.prototype);\nMenu.prototype.constructor = Menu;\n\n/*\n    @override \n*/\nMenu.prototype = {\n    create: create,\n    update: update\n};\n\nmodule.exports = Menu;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/menu/menu.js\n ** module id = 8\n ** module chunks = 0\n **/","var create = function(){\n    \n    // fps debugging\n    this.game.time.advancedTiming = true;\n    \n    // CTA text\n    var style = { font: \"48px Helvetica\", fill: \"#ffffff\", align: \"center\" };\n\n    var text = this.game.add.text(\n        this.game.world.centerX, \n        this.game.world.centerY, \n        \"Press a key to continue\", \n        style\n    );\n\n    text.anchor.set(0.5);\n    \n    // set keys\n    this.keys = this.game.input.keyboard.createCursorKeys();\n    this.keys.space = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);\n    \n    // load next game state by fetching level configs\n    this.game.input.keyboard.onDownCallback = function(event){\n        fetch('/level/' + event.key, {\n        \tmethod: 'get'\n        }).then(function(response) {\n            return response.json();\n        }).then(function(json) {\n            this.game.state.start('Play', true, true, json);\n        }.bind(this));\n    };\n    \n    console.log('[PHASER][Menu][Create]');\n};\n\nmodule.exports = create;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/menu/create.js\n ** module id = 9\n ** module chunks = 0\n **/","var update = function(){\n    \n    // fps \n    this.game.debug.text(this.game.time.fps, 5, 20);\n    \n    console.log('[PHASER][Menu][Update]');\n};\n\nmodule.exports = update;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/gamestates/menu/update.js\n ** module id = 10\n ** module chunks = 0\n **/","var configs = {\n    WIDTH: 500,\n    HEIGHT: 500,\n    DOM_ELEMENT: 'app',\n    BACKGROUND_PATH: 'backgrounds/',\n    TILESET_PATH: 'tilesets/',\n    LEVEL_PATH: 'levels/'\n};\n\nmodule.exports = configs;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/src/globalconfig.js\n ** module id = 11\n ** module chunks = 0\n **/"],"sourceRoot":""}